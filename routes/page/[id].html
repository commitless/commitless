<:Head>
	<title>{{project.user}}/{{project.name}}</title>
</:Head>

<Layout page='none'>
	<h1>{{project.name}}</h1>

	<div class='content'>
    <style>
       {{{project.css}}}
    </style>
		{{{project.html}}}
    <script>
       {{{project.js}}}
    </script>
	</div>
</Layout>

<script>
	import Layout from '../_components/Layout.html';

	export default {
		components: {
			Layout
		},

		preload({ params, query }) {
			// the `id` parameter is available because this file
			// is called [id].html
			const { id } = params;

			return fetch(`http://localhost:8080/projects/${id}`).then(r => r.json()).then(project => {
				return { project };
			});
		}
	};
</script>
